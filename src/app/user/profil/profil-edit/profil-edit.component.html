<h1>Edition du profil</h1>

<div class="card edition">
  <form
  novalidate
  [formGroup]="profilEditForm"
  (ngSubmit)="submit()"
  class="card-body">

  <!-- Champs Pseudonyme -->
	<div class="form-group">
    <label for="name">
      <span class="material-icons material-icons-name zmdi">person</span>
    </label>
    <input
      id="name"
      type="name"
      formControlName="name"
      class="form-control"
      placeholder="Votre Pseudonyme"
      autocorrect="off"/>
    <small *ngIf="name && name.errors && name.dirty" class="form-text text-muted">
      <span [hidden]="!name.errors.required">Nom requis.</span>
      <span [hidden]="!name.errors.minlength">Le nom doit faire plus de 4 caractères.</span>
      <span [hidden]="!name.errors.maxlength">Le nom doit faire moins de 20 caractères.</span>
      <span [hidden]="!name.errors.pattern">Le nom ne doit contenir que des lettres, des chiffres, '-' ou '_'.</span>
    </small>
  </div>

  <!-- Champ Email -->
  <div class="form-group">
    <label for="email">
      <span class="material-icons material-icons-mail zmdi">email</span>
    </label>
    <input
      id="email"
      type="email"
      formControlName="email"
      class="form-control"
      placeholder="Votre email"
      autocorrect="off"/>
    <small
      *ngIf="email && email.errors && email.dirty"
      class="form-text text-muted">
      <span [hidden]="!email.errors.email">Entrez un email valide.</span>
    </small>
  </div>

  <!-- Champ Avatar -->
  <div class="form-group">
    <label for="avatar">
      <span class="material-icons material-icons-avatar zmdi">portrait</span>
    </label>
    <input
      id="avatar"
      type="avatar"
      formControlName="avatar"
      class="form-control"
      placeholder="Votre avatar"
      autocorrect="off">
    <small
      *ngIf="avatar && avatar.errors && avatar.dirty"
      class="form-text text-muted">
      <span [hidden]="!avatar.errors.pattern">Entrez une url valide.</span>
    </small>
  </div>
  <!-- Submit form -->
  <p class="text-center py-3">
    <button
      type="submit"
      class="btn"
      [disabled]="!profilEditForm.valid"
      [ngClass]="{'btn-outline-danger': profilEditForm.valid,
                  'btn-default': !profilEditForm.valid}">
      Sauvegarder
    </button>
  </p>

  </form>
</div>


